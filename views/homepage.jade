extends ./layout
block body
  .container
    include navbar
  .jumbotron
    .container
      .row
        .text-center
          br
          br
          br
          br
          br
          br
          h1.skinny Crowd source anything.

          br
          br
          br
            
          button(onclick="location.href='/signup'",style="margin-right:4px;").button.button-pill.button-large
            o Get Started
          //- button(onclick="location.href='/examples'").button.button-caution.btn-link.button-large
          //-   o Examples
    br
    br
    br
    br
    br
    br
    br


  .container.text-center
    br
    //- h2.medBrand Welcoming narrative that segways into basic purposes
    h2.brand
    h3.skinny
      o A friendly platform for crowd-sourcing content analysis.
    br
    br
    br


  .container.homepage-copy
    .col-md-12

      .col-md-4
        .well
          h1.brand-blue.text-center
            //- .fa.fa-fw.fa-flask  
            b   Data Science
          br
          p.text-left Big data has been moving away from using expensive high-performance equipment and towards redundant affordable hardware. 
          p.text-left We use virtual machines, virtual networks. Now we can virtualize scientists.
          br
          a.btn.btn-default.btn-block
            b Learn more
      
      .col-md-4
        .well
          h1.brand-blue.text-center
            //- .fa.fa-fw.fa-eye   
            b   Hacktivism
          br
          p.text-left Events like the American Boston Marathon bombings reveal the benefits of crowd-sourcing data analysis.
          p.text-left The FBI had access to enough video footage and pictures to kill a horse. People wanted to help, but didn't know what to do.
          br
          a.btn.btn-default.btn-block
            b Watch the watchers
          //- button.button.button-flat-caution.btn-block
            o Fight the power

      .col-md-4
        .well
          h1.brand-blue.text-center  
            //- .fa.fa-fw.fa-code
            b   Development
          br
          p.text-left We are open to feature requests, and even more-so to pull requests. :)
          p.text-left And we would love your help. CE has a sister project which is focused on self-optimizing machine learning algorithms. 

          br
          a.btn.btn-default.btn-block
            b Get the code

          

  
  .container.text-center
    br
    hr
    br

    .col-md-6.text-left
      
      //- fa.fa-fw.fa-share
      .panel.well-lg
          h3.brand-blue Much solution
          p.bigger There are no big problems, only big collections of small problems. 
            | Cat Elevator includes a collection of templates which help with simplifying problem spaces.
          br
          ul.small
            li Analyzing space images which potentially contain spaceships.
            li Getting quick feedback on websites, articles, ideas or designs.
            li Combing through security footage for bad guys and backpacks. 
            li Classifying image sets for supervised machine learning research.
            li Training neural nets to perform simple tasks by watching humans.

        
  
      b.fa.fa-fw.fa-arrow-down.fa-3x.brand-blue

    .col-md-6.text-left
      //- b.fa.fa-fw.fa-sort
      .panel.well-lg
          h3.brand-blue Very business
          p.bigger Create a 'job' by first selecting a template appropriate for your problem space. Then just upload your data and incentivize your crowd. Faster than barbeque-ing a penguin, garaunteed. 
          br
          br

          .text-center
            a.btn.button.button-flat-highlight.button-pill
              b See examples
      
      //- .well-sm
      //-   p We are about to start alpha testing. If you're interested, 
      //-     a(href="mailto:bpbkt7@mail.missouri.edu") contact us
    

    //- .text-center
    //-   .panel-body
    //-     br
    //-     br
    //-     a.btn.button.button-flat.button-highlight.button-pill.button-large(href="/examples") See Examples
    //-     br
    //-     br
    //-     br







    //- .col-md-4
    //-   br
    //-   h4 Free to all. 
    //-   p Join for free and start creating jobs or completing tasks as soon as your email is verified. 
    //-   hr
    //-   .text-center
    //-     a.button.button-primary.button-pill(href="/j") 
    //-       b Sign up 
    //-   b    



    //- .container
    //-   .col-sm-8.text-center.col-sm-offset-2
    //-     h1 It's almost done already.
    //-     p.lead We provide a set of templates so you can just plug in your data and incentivization strategy, and then go do something else. 
    //-     fa.fa.fa-arrow-down
    //-     br
    //-     br

    //- o Want special features or total customization? 
    //- o You can upgrade your account to  
    //- a(href="")  Data Scientist 
    //- o and get a research team to design a solution specific for you.


    //- .col-sm-12
    //-   hr
    //-   br
    //-   //- h4 Select a template to demo the use case:
    //-   #activityThumbs
    //-   br
    //-   hr
      
  .container


    br
    br
    br
    br
    br
    br
    br
    br

  //what are you trying to do with these things?
  script.

    // make new instance of Model
    var activityModel = new $.eventModel();


    // ***** table everything


    // Listen for when things of this model type are created
    activityModel.on('created', function(info,activity) {
      $("#activityTable").append($("<tr/>", {id:activity.id}))
      $.map(activity.data, function(val, attr){
        $("#"+activity.id).append($("<td/>",{id:attr,text:val}))
      })
    });

    // Listen for when things of this model type are updated
    activityModel.on('updated', function(info,activity) {
      var gid = activity.id
      $.map(activity.data, function(val, attr){
        if($("#"+activity.id+" #"+attr).text())
          $("#"+activity.id+" #"+attr).text(val)
        else
          $("#"+activity.id).append($("<td />",{id:attr,text:val}))
      })
    });


    // ***** thumbnails 


    // Listen for when things of this model type are created
    activityModel.on('created', function(info,activity) {
      var nm = activity.data.name.replace(/ /g,'').toLowerCase();

      $("#activityThumbs").append($("<div>", {class:"col-md-3 "}).append($("<div>",{
        class:"panel panel-default well-sm activityPrototype", 
        id:activity.id,
        "data-toggle":'tab',
        href:"#"+nm, 

      })))

      $("#activityThumbs "+ "#"+activity.id)
        .append($("<h4>",{
          id:'name',
          text:activity.data.name
      }))

      $("#activityThumbs "+ "#"+activity.id)
        .append($("<p>",{
          class:'desc',
          class:"borderBottom", 
          id:'name',
          text:activity.data.desc
      }))
    });


    // Listen for when things of this model type are updated
    activityModel.on('updated', function(info,activity) {
      $.map(activity.data, function(val, attr){
        if($("#"+activity.id+" #"+attr).text())
          $("#"+activity.id+" #"+attr).text(val)
        else $("#"+activity.id).append($("<div>",{id:attr,text:val}))
      })
    });


    // bind dom to model with sockets
    function dom_glue(model){
      io.socket.on( model, function(activity){
          activityModel.emit(activity.verb, activity);
      })
      io.socket.get( "/"+model, {}, function(activities){
        $.map(activities, function(activity){
          activityModel.emit('created', {
            id:activity.id,
            data:activity
          })
        })
      })
    }

    // When document is ready, grab latest things.
    $(document).ready(function(){

      dom_glue("activity");

      //- activityModel.emit('created', {
      //-   id:5415,
      //-   data:{name:"Feature Detection"}
      //- })

    });



